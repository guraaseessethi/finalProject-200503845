<%
    let action = "";
    let method = "post";
    let balance = "";
    let goal = "";

    if (typeof saving !== "undefined" && saving) {
        action = `/savings/${saving.id}`;
        method = "put";
        balance = saving.balance;
        goal = saving.goal;
    }
%>

<div class="container mt-5">
    <% if (formType === "create") { %>
        <h1>Create New Saving</h1>
        <form action="/savings" method="post" class="mt-3">
    <% } else { %>
        <h1>Update Saving</h1>
        <form action="/savings<%= action %>" method="post" class="mt-3">
            <input type="hidden" name="_method" value="put">
    <% } %>
    <hr class="my-5" />

    <div class="mb-3">
        <label for="balance" class="form-label">Balance ($)</label>
        <input type="number" class="form-control" id="balance" name="balance" required value="<%= balance %>">
    </div>

    <div class="mb-3">
        <label for="goal" class="form-label">Goal ($)</label>
        <input type="number" class="form-control" id="goal" name="goal" required value="<%= goal %>">
    </div>

    <button type="submit" class="btn btn-primary"><%= formType === "create" ? "Create" : "Update" %></button>
    </form>

    <a href="/savings" class="btn btn-link">Back to Savings</a>
</div>
